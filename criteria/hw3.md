## Сразу бан (0 баллов) если:

- Сдано после дедлайна
- Красный CI (даже если только scalafmt)
- Если CI проходит, но было выполнено 0 тестов
- Есть правки в условии, которые не разрешены в условии
- Если есть действия после дедлайна, которые меняют код (чекать Overview)

## Логическая часть - реализация (70)

| Задание                                                                                                                                                                                                                                                  | Критерий                                                                                                                                                                                                                                                                                                                                                                                    | Баллы |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------|
| Моделирование домена через ADT                                                                                                                                                                                                                           | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 20    |                                                                                                             
| +                                                                                                                                                                                                                                                        | Есть `case class` для здания, в нем есть поле для адреса (неважно какой у него тип) и поле для первого этажа                                                                                                                                                                                                                                                                                | 5     |                                                                                                             
| +                                                                                                                                                                                                                                                        | Этаж смоделирован как тип суммы (`sealed trait`) с 3 подтипами для жилого этажа, коммерческого этажа и чердака. <br/> В коммерческом и жилом этажах должны быть определены поля для следующего этажа. <br/>Тип организации в коммерческом этаже или чердаке может быть любым. <br/>Хранить жильцов в жилом этаже и организации в коммерческом можно как угодно (Tuple, List, Array, и т.д.) | 5     |                                                                                                             
| +                                                                                                                                                                                                                                                        | Чердак смоделирован по условию, может хранить в себе опциональное значение типа организации. Смоделирован может быть как угодно (еше один ADT, Option от типа организации и т.д.)                                                                                                                                                                                                           | 5     |                                                                                                             
| +                                                                                                                                                                                                                                                        | Пол жильца должен быть смоделирован как тип суммы                                                                                                                                                                                                                                                                                                                                           | 5     |                                                                                                             
| Смарт конструкторы для здания/этажей/жильца<br/>Если все проверки учтены при моделировании и невозможно создать невалидный по условию инстанс здания (т.е. оно correct-by-construction), то за конструктор ставится полный балл даже если его нет, иначе | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 10    |                                                                                                             
| +                                                                                                                                                                                                                                                        | В смарт-конструкторе есть проверка на то, что последний этаж - чердак                                                                                                                                                                                                                                                                                                                       | 4     |                                                                                                             
| +                                                                                                                                                                                                                                                        | В смарт-конструкторе есть проверка на то, что на жилом этаже ровно 2 жителя                                                                                                                                                                                                                                                                                                                 | 2     |                                                                                                             
| +                                                                                                                                                                                                                                                        | В смарт-конструкторе есть проверка на то, что в коммерческом этаже минимум 1 одна организация                                                                                                                                                                                                                                                                                               | 2     |                                                                                                             
| +                                                                                                                                                                                                                                                        | В смарт-конструкторе есть проверка на то, что его возраст больше 0                                                                                                                                                                                                                                                                                                                          | 2     |                                                                                                             
| Функции подсчета значений на здании                                                                                                                                                                                                                      | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 40    |                                                                                                             
| Функция `fold` (сигнатура может отличаться от условия)                                                                                                                                                                                                   | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 10    |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована через хвостовую рекурсию                                                                                                                                                                                                                                                                                                                                              | 10    |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована как-то иначе                                                                                                                                                                                                                                                                                                                                                          | 5     |                                                                                                             
| Функция `countOldManFloors`                                                                                                                                                                                                                              | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована через самописный `fold` - подсчитывается количество этажей, где есть хотя бы 1 мужчина старше `olderThan`                                                                                                                                                                                                                                                             | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована как-то иначе                                                                                                                                                                                                                                                                                                                                                          | 3     |                                                                                                             
| Функция `womanMaxAge` (сигнатура может отличаться от условия)                                                                                                                                                                                            | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована через самописный `fold`                                                                                                                                                                                                                                                                                                                                               | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована как-то иначе                                                                                                                                                                                                                                                                                                                                                          | 3     |                                                                                                             
| Функция `countCommercial`                                                                                                                                                                                                                                | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована через самописный `fold`  - считаются организации в коммерческих этажах и на чердаке (если она есть)                                                                                                                                                                                                                                                                   | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована как-то иначе                                                                                                                                                                                                                                                                                                                                                          | 3     |                                                                                                             
| Функция `countCommercialAvg`                                                                                                                                                                                                                             | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 6     |                                                                                                              | 1     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована через `countCommercial` или самописный `fold`. При делении должно быть приведение одного из значений к Double (через `.toDouble`). Должна быть проверка на непустоту массива (если пустой то возвращать 0)                                                                                                                                                            | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована как-то иначе                                                                                                                                                                                                                                                                                                                                                          | 3     |                                                                                                             
| Функция `evenFloorsMenAvg`                                                                                                                                                                                                                               | **Максимум**                                                                                                                                                                                                                                                                                                                                                                                | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована через самописный `fold` (количество мужчин на четных этажах делить на количество четных этажей). Индекс первого этажа может быть любой. <br/>При делении должно быть приведение одного из значений к Double (через `.toDouble`)                                                                                                                                       | 6     |                                                                                                             
| ИЛИ                                                                                                                                                                                                                                                      | Правильно реализована как-то иначе                                                                                                                                                                                                                                                                                                                                                          | 3     |                                                                                                             

## Логическая часть - тесты (30)

| Задание                                                                                                                    | Критерий                                                                                | Баллы |
|----------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|-------|
| Смарт конструкторы для здания/этажей/жильца (если конструктора нет и модель correct-by-construction, то ха эту часть фулл) | **Максимум**                                                                            | 4     |
| +                                                                                                                          | Есть тест на смарт-конструктор здания                                                   | 1     |
| +                                                                                                                          | Есть тест на смарт-конструктор жилого этажа                                             | 1     |
| +                                                                                                                          | Есть тест на смарт-конструктор коммерческого этажа                                      | 1     |
| +                                                                                                                          | Есть тест на смарт-конструктор жильца                                                   | 1     |
| Функции подсчета значений на здании                                                                                        | **Максимум**                                                                            | 26    |                                                                                                             
| Функция `countOldManFloors`                                                                                                | **Максимум**                                                                            | 6     |
| +                                                                                                                          | Есть тест c домом, где нет мужчин старше `olderThan`                                    | 2     |
| +                                                                                                                          | Есть тест c домом, где нет мужчин вообще                                                | 2     |
| +                                                                                                                          | Есть тест c домом, где есть мужчины старше `olderThan`                                  | 2     |
| Функция `womanMaxAge` (сигнатура может отличаться от условия)                                                              | **Максимум**                                                                            | 4     |  
| +                                                                                                                          | Есть тест c домом, где нет женщин                                                       | 2     |
| +                                                                                                                          | Есть тест c домом, где есть женщины                                                     | 2     |
| Функция `countCommercial`                                                                                                  | **Максимум**                                                                            | 5     |
| +                                                                                                                          | Есть тест c домом, где нет организаций                                                  | 1     |
| +                                                                                                                          | Есть тест c домом, где есть организации                                                 | 2     |
| +                                                                                                                          | Есть тест c домом, где есть чердак с организацией (необязательно в отдельном тесткейсе) | 2     |
| Функция `countCommercialAvg`                                                                                               | **Максимум**                                                                            | 6     |  
| +                                                                                                                          | Есть тест c пустым массивом                                                             | 2     |
| +                                                                                                                          | Есть тест c массивом, где только дома без организаций                                   | 2     |
| +                                                                                                                          | Есть тест c массивом, где есть дома с организациями                                     | 2     |
| Функция `evenFloorsMenAvg`                                                                                                 | **Максимум**                                                                            | 5     |                                                                                                             
| +                                                                                                                          | Есть тест c домом, где есть мужчины на четных этажах                                    | 2     |
| +                                                                                                                          | Есть тест c домом, где нет мужчин вообще или нет мужчин на четных этажах                | 3     |

## Стилистическая часть

Помимо баллов за логическую часть, также снимаются баллы за использование нефункциональных конструкций/методов/подходов
или несоблюдение требований к стилю.

| Запрещенный прием                                                                                                                                                                                                                                                                                                                                                                        | Наказание                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
| Тест классы именуются `<ClassName>Spec`, где `<ClassName>` - класс к которому пишутся тесты.Тест классы находятся в том же пакете, что и класс к которому пишутся тесты -(например, класс `Fibonacci` находится в пакете `fibonacci` в директории `src/main/scala/fibonacci`, значит его тест класс `FibonacciSpec` должен быть в том же пакете в директории `src/test/scala/fibonacci`) | минус 5 если есть хотя бы 1 неправильный спек                |
| `var`  (используйте `for comprehension`, `@tailrec`)                                                                                                                                                                                                                                                                                                                                     | минус 20 если есть хотя бы 1 `var`                           |
| Циклы `while`  (используйте `for comprehension`, `@tailrec`)                                                                                                                                                                                                                                                                                                                             | минус 20 если есть хотя бы 1 `while`                         |
| Мутабельные структуры данных (`scala.collection.mutable.*`, `Array`, `ArrayBuffer`, коллекции из Java)                                                                                                                                                                                                                                                                                   | минус 20 если есть хотя бы 1 инстанс мутабельной коллекции   | 
| Ключевое слово `return`                                                                                                                                                                                                                                                                                                                                                                  | минус 10 если есть хотя бы 1 `return`                        |
| Использовать `asInstanseOf`/`isInstanceOf`                                                                                                                                                                                                                                                                                                                                               | минус 10 если есть хоты бы 1 использование одного из методов | 
| Использовать `scala.Predef.assert`, `scala.Predef.assume`, `scala.Predef.require`                                                                                                                                                                                                                                                                                                        | минус 10 если есть хоты бы 1 использование одного из методов | 
| Использовать `throw`                                                                                                                                                                                                                                                                                                                                                                     | минус 10 если есть хоты бы 1 `throw`                         | 
| Использовать `System.exit`                                                                                                                                                                                                                                                                                                                                                               | минус 10 если есть хоты бы 1 `System.exit`                   | 
| Использование небезопасных вызовов разрешено только в тестах (`Option::get`, `Seq::apply`, `Array::apply`, `Map::apply`)                                                                                                                                                                                                                                                                 | минус 10 если есть хоты бы 1 использование одного из методов | 

```